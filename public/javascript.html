<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf8">
		<title>Kiosko "El JeviScript"</title>
		<link rel="stylesheet" href="https://docs.google.com/uc?id=17C6A6tYbFc9esDbgo0Q-HjN2rNjvXbyc">
	</head>
	<body>
		<h1>Kiosko <strong>El JeviScript</strong></h1>

		<button>Nuevo Producto +</button>

		<table>
			<thead>
				<tr>
					<th>Nombre</th>
					<th>Stock</th>
					<th>Precio</th>
					<th>Disponible</th>
				</tr>
			</thead>
			<tbody id="productos">
				<!-- ACÁ TIENEN QUE APARECER LOS PRODUCTOS -->
			</tbody>
		</table>

		<script>
			document.querySelector("button").onclick = cargarProducto

			function cargarProducto(){
				/**** Inicio cargarProducto() ****/

				/* Introduccion */
				let nombre = prompt("Ingrese nombre:")       //<-- String: Valores Alfanuméricos
				let stock = prompt("Ingrese stock:")         //<-- Int: Números Enteros
				let precio = prompt("Ingrese precio:")       //<-- Float: Números con Decimales
				let disponible = confirm("Esta disponible?") //<-- Bool: Valores true/false

				/* Nudo */
				/*if( nombre == "" ){

					alert("ERROR: El nombre no puede quedar vacio...")

					return
				}*/

				while ( nombre == ""  || nombre == null || nombre ==undefined){

					alert("ERROR: El nombre no puede quedar vacio...")
					 nombre = prompt("Ingrese nombre:")
					
				}

				if( stock == "" || stock < 0){

					alert("ERROR: El stock debe ser un número positivo")

					return
				}

				if( precio == "" || precio < 0 || parseFloat(precio) == NaN ){

					alert("ERROR: El precio debe ser un número positivo con decimales")

					return
				}

				if( precio == "" || precio < 0 || parseFloat(precio) == NaN ){

					alert("ERROR: El precio debe ser un número positivo con decimales")

					return
				}

				if( disponible == undefined ){

					alert("ERROR: Debe indicar la diponibilidad")

					return
				}

				let precioFinal = precio * 1.21

				/* Desenlace */
				//let msg = `<p>El producto <strong>${nombre}</strong> vale ARS ${precioFinal} la unidad</p>` //<-- Template String

				//document.querySelector("#productos").insertAdjacentHTML("beforeend", msg)

				let fila = document.createElement("tr")

				let celda1 = document.createElement("td") //creo la celda
				let celda2 = document.createElement("td")
				let celda3 = document.createElement("td")
				let celda4 = document.createElement("td")	

				celda1.innerText = nombre //meto lo contenido en la variable en la celda
				celda2.innerText = stock + " unid."
				celda3.innerText = `$${precioFinal.toFixed(2)}`
				celda4.innerText = disponible

				/*if (disponible == true ){
					celda4.innerText = "Si!"
				}else {
					celda4.innerText = "No :( "
				}*/

				//Operador ternario
				//variable = (condicion) ? valor verdadero : valor falso; (se resguarda tal valor dependiendo si se cumple o no la condicion)
				//celda4.innerText = (condicion) ? valor verdadero : valor falso
				celda4.innerText = (disponible) ? "Si :)" : "No :)"

				
				fila.appendChild( celda1 ) // meto cada celda dentro de la fila
				fila.appendChild( celda2 )
				fila.appendChild( celda3 )
				fila.appendChild( celda4 )

				document.querySelector("#productos").appendChild(fila) //JS mete adentro de productos a la fila

				/**** Fin cargarProducto() ****/
			}
		</script>
	</body>
</html>